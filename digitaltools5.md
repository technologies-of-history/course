---
layout: page
title: Digital Tools Assignment 5
permalink: /digitaltools5
---

# Networks and Knowledge

In your final digital tools assignment, you'll try your hand at network analysis, using an open-access software called Cytoscape to visualize correspondence networks within the seventeenth- and eighteenth-century Republic of Letters. For this assignment, we'll scrape data from JSON files generated in web searches of [Early Modern Letters Online](http://emlo.bodleian.ox.ac.uk/home) to generate the structured data for network analysis. Your network analysis, generated in the open-access software Cytoscape, will reveal the role that women played as nodes within far-reaching correspondence networks.

## Step 1: Collect your data

In class on Thursday, April 2, we will work together to use a short Python script to generate **.csv** files of correspondence data from the JSON file generated by our searches of EMLO. 
1. Open Google Chrome browser on your computer (download it if you don't have it).
2. Navigate to the Women's Correspondence Collection at [EMLO](https://emlo.bodleian.ox.ac.uk/forms/advanced?people_gend=female&start=0). This link brings up all 27,847 instances of women senders or recipients of letters in their database.
3. That's way too much data to work with, so we're going to decide how we want to refine it. Look at the filter options in the left-hand menu. Do you want to pick a single city of origin to work with? A single year of significance? Decide what research question you want to answer by filtering your data. For example, if I wanted to know the extent to which Parisian women were central to networks of correspondence, I would select the **Paris, Ile-de-France** option within **Origin of Letter**.
4. Selecting Paris narrows my results down to 615, but that's still too many to work with. But I can see that this database runs to the mid-nineteenth century, and I only want to see letters sent prior to the French Revolution, so I'll need to **Modify Search** to limit the years. I can do this by clicking **Dates** in the left-hand menu and setting parameters; in this case, I choose to start in 1739 and end in 1789. Now I've got 403 results of letters either sent by women, received by women, or mentioning women.
5. But since I want to perform a network analysis that illustrates the role of gender in the Republic of Letters, I'm going to need to sort my results by gender so that I can more easily label them in my Node List (you'll know what this is in a second.) So again, I can **Modify Search** and in the dropdown menu **All People**, select **all**. Then under **Senders**, I select **Female** and under **Recipients** I select **Male.** Now I know that these results will return only women letters writers and male recipients. Now I've got 231 results.

## Step 2: Scrape that data from the web
1. Once your results have loaded, you're going to open the **View** meny at the top of your Chrome browser, select **Developer**, and **Inspect Elements**. This will bring up a new interface, with your loaded web page off to the left. In the menu at the top, select **Network.**
2. Once you've got the **Network** window open, hit refresh in your Chrome browser. The developer console will now return a list of the network activity required to load the page. Scroll down this list, paying attention to what is listed in the **type** column. Click the name of the source that is labeled **xhr**. This will open another window showing you the **Request URL** that was generated through your query of the backend database. Copy the whole thing, and paste it into a new browser tab.
3. What you see is the JSON (JavaScript Object Notation) file containing all of the structured data generated from your search. It's helpful to check the **Pretty-print** box at the top left so you can see what you're dealing with. We're going to use a Python script to turn this structured data into a more easily readable **.csv** file. But first, we need to make one minor adjustment to the URL.
4. Go back to your first browser window with the developer console open. On the left, where the web page is loaded, you'll see the number of results generated by your query. Make note of that number, and then return to the browser tab with the JSON file. The URL for this file is *super* long with lots of numbers and signs, but if you look closely, you'll see that it contains the parameters of your search. Somewhere in that URL, shortly after the parameters of your search are spelled out, you'll see **0&rows=50**. This tells the database to return just 50 rows of results on this page, so that means you've only got 50 results in this JSON file. You'll need to change the **50** in **0&rows=50** to whatever number of results were generated in your search. In my case, it was 231, so I'll edit that one section of the URL to **0&rows=231** and then hit enter to reload the data.
5. Once the page is reloaded, copy all the text that appears (Command+A and Command+C/Control+A and Control+C). Open a text editor of your choice and paste all of the text into a new file. Save the file as **women_to_men.json** (because we queried women senders and male recipients).

## Repeat Step 2 another two times
1. Return to the browser tab with your EMLO results, close the developer console (click the X at the top right). Select **Modify your search**, and change **Recipient** from **Male** to **Female**. Repeat all of *8Step 2** above, naming the new **.json** file you generate **women_to_women.json.**
2. Return to the browser tab with your EMLO results, click **Modify your search**, and change **Sender** from **Female** to **Male**. Repeat this whole section, naming the new **.json** file you generate **women_to_women.json.**

## Step 3: Turn your JSON files into CSV files
1. You should now have three JSON files 
6.  Then, we'll work together to clean this data using [OpenRefine](https://openrefine.org). From this point on, you'll be on your own to structure the data appropriately. You may want to review Miriam Posner’s [Cytoscape tutorial](https://github.com/miriamposner/cytoscape_tutorials/blob/master/creating-network-graphs-with-cytoscape.md), which defines key terms that you will encounter as you navigate the platform.

1. The first thing you'll need to do is structure your data in two-column format, called an “edge list.” Column A and Column B should indicate a consistent relationship between nodes in the network. For example, in this instance, Column A might be "sender" and Column B "recipient." You should also include a third column, the date of the letter in year format, so that you can incorporate this information into your analysis.
2. Next, in order to add gender information to your network analysis, you'll need to create a "node list." This list should feature one column with every individual sender or recipient in your edge list, listed just *once*, and a second column indicating that person's gender.

## Step 2: Import your data into Cytoscape

1. Next, import your data into Cytoscape by clicking the icon at the top to **Import Network from File System**.  
2. A pop-up window will appear displaying the data from your edge list. Click the title of each column to bring up a menu that allows you to describe each column of data. The green circle indicates "source"; the red bullseye is "target"; the blue, green, and red file icons represent "edge attribute," "source node attribute," and "target node attribute," respectively.
3. In our network, the letter **sender** is the **source**; the letter **recipient** is the **target**; and the **date** is an **edge attribute** because it describes something about the connection between source and target.
4. Finally, you'll need to add your node list to your network. Click the icon at the top menu to **Import Table from file**. A different pop-up window will appear, and you'll need to be sure you've designated this table as a **Node Table Columns.**
5. Next, click on the title of each column to indicate which column is the **key** (every person in your network) and which is the **attribute** (the gender of the person).
6. Finally, click the **Tools** menu and select **Analyze Network.** Check the box to indicate that this is a **Directed network.**

## Step 3: Format your network analysis
1. Select the **Layout** option in the to menu, and play around to see which layout best displays the data in your network.
2. Use the **style** pane on the far left to change the appearance of your network. You can pick among the available styles by clicking the dropdown menu at the top, and then customize further by editing the fill color, labels, shape, and size of the nodes.
3. Edit the fill color of nodes according to the **gender** of the person. Next, edit the **size** of each node according to **EdgeCount**. 
4. Finally, depending on the network you've got, you may want to **Filter** your network to see correspondence by year (choose **Column filter** and then scroll down to **Edge:Year**). Be sure to select the **show** option at the bottom to see how different years affect your network.

## Step 4: Embed your netowork in your post
1. Save your network somewhere on your computer.
2. Click **File** then **Export** and select **Network to Web Page**.
3. In the pop-up menu that appears, select **Network and Style JSON files only (No HTML)** from the dropdown menu. Make note of the filepath where your files will be saved on your computer, changing it if necessary. Then click **Ok.**
4. Navigate to the **.zip** file downloaded from Cytoscape and open it to unzip it. The resulting folder will contain a **networks.js** file and a **styles.js** file. Rename each of those files **lastnamenetworks.js** and **lastnamestyles.js**.
5. Open the **assets** folder of your forked **spring-2026** repository, and locate the **networks** folder. Upload both of these .js files to the **networks** folder.


## Step 3: Explain Yourself

1. How did you go about formulating a research question?
2. Which nodes or edges of the network seem most significant for your research topic?
3. What narrative does your network express?
4. Does anything surprise you about the network?

1. Formulating a research question that can be investigated by creating an edge list and network graph.
2. Generating and organizing your data in a Google Sheet.
3. Clean your data using OpenRefine.
4. Generating a network visualization using Cytoscape.
5. Change the layout and style of your network to suit the information you are representing.
6. Reflecting on your process and analyzing your results in a blog post (4-5 paragraphs).

## Step 4: Submission

Once again, you're going to submit your post in a new branch in our class repository that you will creat and name: **yourname-cytoscape**. Finish by submitting a pull request to the **_master** branch of our class repository.
